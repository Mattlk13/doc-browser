name:           doc-browser
version:        0.3.0
author:         Incomplete
maintainer:     incomplete@aixon.co
copyright:      Incomplete 2018
license:        MPL-2.0
github:         qwfy/doc-browser
synopsis:       A documentation browser
category:       Application
description:    Please see the README on Github at <https://github.com/qwfy/doc-browser#readme>

extra-source-files:
- README.asciidoc

data-files:
- ui/*.qml
- ui/*.js
- ui/icon/**/*.png
- ui/icon/**/SOURCE
- config.yaml

dependencies:
- base >= 4.7 && < 5
- filepath
- containers
- hsqml
- text
- aeson
- bytestring
- warp
- wai
- binary
- http-types
- network-uri
- stm
- wreq
- lens
- zlib
- tar
- temporary
- directory
- criterion
- deepseq
- regex-pcre
- array
- optparse-applicative
- transformers
- hoogle
- safe
- extra
- async
- lzma
- MissingH
- Hclip
- open-browser
- process
- time
- yaml
- stache
- filelock
- unix
- servant-server
- servant-docs
- lens

library:
  source-dirs: src
  ghc-options:
  - -Wall
  - -fno-warn-type-defaults
  - -fno-warn-missing-signatures
  - -Werror
  - -O2

executables:
  doc-browser:
    main: Main.hs
    source-dirs: app
    ghc-options: &exe-ghc-options
    - -threaded
    - -rtsopts
    - -with-rtsopts=-N
    - -Wall
    - -O2
    - -fno-warn-type-defaults
    - -fno-warn-missing-signatures
    - -Werror
    dependencies: &exe-dependencies
    - doc-browser

benchmarks:
  prof-search:
    main: ProfSearch.hs
    source-dirs: prof
    ghc-options: *exe-ghc-options
    dependencies: *exe-dependencies
